{
    "name_id" : "Draggable",
    "pretty_name" : "Draggable Box",
    "css" : ".draggable { width: 150px; height: 150px; padding: 0.5em; } body { margin: 0; }",
    "html" : "<div id=\"{id}\" class=\"ui-widget-content draggable\"><p>Draggable node</p><p id = \"posX\">x</p><p id = \"posY\">y</p> </div>",
    "js" : "var serializeDraggable = function(id) { var obj = $(id); var dataToSend = JSON.stringify({\"top\" : obj.offset().top, \"left\" : obj.offset().left}); $.ajax({ type: \"POST\", url: \"set-node.php?id=\" + id, data: dataToSend, contentType: \"application/json\", success: function(data) { alert(\"data send to server: \" + dataToSend + \" response: \" + data); }, error: function(a, b, c) { alert(\"sending error: \" + dataToSend); alert(b); alert(c); } }); }; var deserializeDraggable = function(id) { $.ajax({ dataType: \"json\", url: \"get-node.php?id=\" + id, success: function(data) { $(\"#\" + id).offset(data); alert(\"loaded from server: \" + JSON.stringify(data)); }, error: function(a, b, c) { alert(b); alert(c); } }); }; var setupDraggable = function(id) { $(id).draggable({ drag: function() { var offset = $(this).offset(); var xPos = offset.left; var yPos = offset.top; $('#posX').text('x: ' + xPos); $('#posY').text('y: ' + yPos); }, stop: function() { serializeDraggable(id); } }); };"
}
